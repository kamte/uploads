{
  "name": "shady-css-parser",
  "version": "0.0.8",
  "description": "A fast, small and flexible CSS parser.",
  "main": "index.js",
  "devDependencies": {
    "babel-core": "^6.4.0",
    "babel-runtime": "^6.3.19",
    "babel-plugin-check-es2015-constants": "^6.3.13",
    "babel-plugin-transform-es2015-arrow-functions": "^6.4.0",
    "babel-plugin-transform-es2015-block-scoping": "^6.4.0",
    "babel-plugin-transform-es2015-classes": "^6.4.0",
    "babel-plugin-transform-es2015-computed-properties": "^6.4.0",
    "babel-plugin-transform-es2015-literals": "^6.3.13",
    "babel-plugin-transform-es2015-modules-umd": "^6.4.0",
    "babel-plugin-transform-es2015-parameters": "^6.4.2",
    "babel-plugin-transform-es2015-shorthand-properties": "^6.3.13",
    "babel-plugin-transform-es2015-spread": "^6.4.0",
    "babel-plugin-transform-es2015-template-literals": "^6.3.13",
    "chai": "^3.4.0",
    "del": "^1.2.1",
    "gulp": "^3.9.0",
    "gulp-babel": "^6.0.0",
    "gulp-concat": "^2.6.0",
    "gulp-mocha": "^2.2.0",
    "gulp-rename": "^1.2.2",
    "gulp-size": "^2.0.0",
    "gulp-uglify": "^1.4.2",
    "gulp-watch": "^4.3.5",
    "mocha": "^2.3.3"
  },
  "scripts": {
    "prepublish": "gulp",
    "test": "gulp test"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/PolymerLabs/shady-css-parser.git"
  },
  "author": "",
  "license": "BSD-3-Clause",
  "bugs": {
    "url": "https://github.com/PolymerLabs/shady-css-parser/issues"
  },
  "homepage": "https://github.com/PolymerLabs/shady-css-parser#readme",
  "readme": "## Shady CSS Parser\n\nThe motivation for Shady CSS Parser is to provide a fast, small and flexible\nCSS parser suitable for facilitating runtime parsing and transformation of CSS.\nThe Polymer library and the Polymer Designer tool are both example cases where\nfast and flexible CSS parsing and transformation is a critical feature.\n\n### Goals\n\n -  Feasibility of being used in conjunction with Polymer or Polymer\nDesigner.\n -  Parse CSS loosely and flexibly. This parser is not spec-compliant, however\n it will parse all spec-compliant CSS.\n -  Parse CSS quickly and efficiently. This parser is a suitable tool to aide in\n the design and implementation of runtime transformations.\n -  Graceful error recovery. Malformed CSS will be parsed by this\nparser as closely as possible to the way a browser would parse it.\n\n### Installing\n\nWith `node` and `npm` installed, run the following command:\n\n```sh\nnpm install shady-css-parser\n```\n\n### Building\n\nRun the following commands from the project root:\n\n```sh\nnpm install\ngulp\n```\n\nThis will create a `dist` directory containing distributable artifacts.\n\n### Usage\n\n#### Basic parsing\n\n```js\nvar css = 'body { color: red; }';\nvar parser = new shadyCss.Parser();\nvar ast = parser.parse(css);\n```\n\n#### Custom parsing\n\n```js\n/* Step 1: Inherit from NodeFactory */\nfunction CustomNodeFactory() {\n  shadyCss.NodeFactory.apply(this, arguments);\n}\n\nCustomNodeFactory.prototype = Object.create(shadyCss.NodeFactory.prototype);\n\n/* Step 2: Implement a custom node factory method. Here we override the default\n * factory for Expression nodes */\nCustomNodeFactory.prototype.expression = function(text) {\n  if (/^darken\\(/.test(text)) {\n    return {\n      type: 'darkenExpression',\n      color: text.replace(/^darken\\(/, '').replace(/\\)$/, '')\n    };\n  } else {\n    return shadyCss.NodeFactory.prototype.expression.apply(this, arguments);\n  }\n}\n\nvar css = 'body { color: darken(red); }';\n/* Step 3: Instantiate a Parser with an instance of the specialized\n * CustomNodeFactory */\nvar parser = new shadyCss.Parser(new CustomNodeFactory());\nvar ast = parser.parse(css);\n```\n\n#### Basic stringification\n\n```js\nvar stringifier = new shadyCss.Stringifier();\nstringifier.stringify(ast);\n```\n\nNote: the built-in Parser and Stringifier discard most insignficiant whitespace\nfrom parsed CSS.\n\n#### Custom stringification\n\n```js\n/* Step 1: Inherit from Stringifier. */\nfunction CustomStringifier() {\n  shadyCss.Stringifier.apply(this, arguments);\n}\n\nCustomStringifier.prototype = Object.create(shadyCss.Stringifier.prototype);\n\n/* Step 2: Implement a stringification method named after the type of the node\n * you are interested in stringifying. In this case, we are implementing\n * stringification for the Darken Expression nodes we implemented parsing for\n * above. */\nCustomStringifier.prototype.darkenExpression = function(darkenExpression) {\n  // For the sake of brevity, please assume that the darken function returns\n  // a darker version of the color parameter:\n  return darken(darkenExpression.color);\n};\n\n/* Step 3: Use the custom stringifer: */\nvar stringifier = new CustomStringifier();\nvar css = stringifier.stringify(ast);\n```\n\n### Example ASTs\n\n#### Custom property declaration\n\n```css\n.container {\n  --nog: blue;\n}\n```\n```js\n{\n  \"type\": 1, /* stylesheet */\n  \"rules\": [\n    {\n      \"type\": 4, /* ruleset */\n      \"selector\": \".container\",\n      \"rulelist\": {\n        \"type\": 7, /* rulelist */\n        \"rules\": [\n          {\n            \"type\": 6, /* declaration */\n            \"name\": \"--nog\",\n            \"value\": {\n              \"type\": 5, /* expression */\n              \"text\": \"blue\"\n            }\n          }\n        ]\n      }\n    }\n  ]\n}\n```\n\n#### Mixin declaration\n\n```css\nruleset {\n  --mixin-name: {\n    /* rules */\n  };\n}\n```\n```js\n{\n  \"type\": 1, /* stylesheet */\n  \"rules\": [\n    {\n      \"type\": 4, /* ruleset */\n      \"selector\": \"ruleset\",\n      \"rulelist\": {\n        \"type\": 7, /* rulelist */\n        \"rules\": [\n          {\n            \"type\": 6, /* declaration */\n            \"name\": \"--mixin-name\",\n            \"value\": {\n              \"type\": 7, /* rulelist */\n              \"rules\": [\n                {\n                  \"type\": 2, /* comment */\n                  \"value\": \"\\/* rules *\\/\"\n                }\n              ]\n            }\n          }\n        ]\n      }\n    }\n  ]\n}\n```\n\n#### Mixin application\n\n```css\n.title {\n  @apply(--my-toolbar-title-theme);\n}\n```\n```js\n{\n  \"type\": 1, /* stylesheet */\n  \"rules\": [\n    {\n      \"type\": 4, /* ruleset */\n      \"selector\": \".title\",\n      \"rulelist\": {\n        \"type\": 7, /* rulelist */\n        \"rules\": [\n          {\n            \"type\": 3, /* at rule */\n            \"name\": \"apply\",\n            \"parameters\": \"(--my-toolbar-title-theme)\",\n            \"rulelist\": null\n          }\n        ]\n      }\n    }\n  ]\n}\n```\n\n#### Pathological comments\n\n```css\n/* unclosed\n@fiz {\n  --huk: {\n    /* buz */\n    baz: lur;\n  };\n}\n```\n```js\n{\n  \"type\": 1, /* stylesheet */\n  \"rules\": [\n    {\n      \"type\": 2, /* comment */\n      \"value\": \"\\/* unclosed\\n@fiz {\\n  --huk: {\\n    \\/* buz *\\/\"\n    },\n    {\n      \"type\": 6, /* declaration */\n      \"name\": \"baz\",\n      \"value\": {\n        \"type\": 5, /* expression */\n        \"text\": \"lur\"\n      }\n    },\n    {\n      \"type\": 8, /* discarded */\n      \"text\": \"};\\n\"\n    },\n    {\n      \"type\": 8, /* discarded */\n      \"text\": \"}\"\n    }\n  ]\n}\n```\n\n### Example stringification\n\n#### Basic ruleset\n\n```css\n/* before */\nbody {\n  margin: 0;\n  padding: 0px\n}\n```\n```css\n/* after */\nbody{margin:0;padding:0px;}\n```\n\n#### At rules\n\n```css\n/* before */\n@import url('foo.css');\n\n@font-face {\n  font-family: foo;\n}\n\n@charset 'foo';\n```\n```css\n/* after */\n@import url('foo.css');@font-face{font-family:foo;}@charset 'foo';\n```\n\n#### Custom properties\n\n```css\n/* before */\n:root {\n  --qux: vim;\n  --foo: {\n    bar: baz;\n  };\n}\n\n#target {\n  gak: var(--qux);\n  @apply(--foo);\n}\n```\n```css\n/* after */\n:root{--qux:vim;--foo:{bar:baz;};}#target{gak:var(--qux);@apply (--foo);}\n```\n",
  "readmeFilename": "README.md",
  "_id": "shady-css-parser@0.0.8",
  "_shasum": "01eec5a6b9ec8e47edbda91b44dfe591279ea0d1",
  "_resolved": "https://registry.npmjs.org/shady-css-parser/-/shady-css-parser-0.0.8.tgz",
  "_from": "shady-css-parser@0.0.8"
}
